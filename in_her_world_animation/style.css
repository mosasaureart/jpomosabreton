* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  overflow: hidden;
  background: black;
}

#scene {
  width: 100vw;
  height: 100vh;
  position: relative;
}

/* -------- SCREEN 1 -------- */
#screen1 {
  width: 100%;
  height: 100%;
  position: absolute;
}

#background {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Image centrale imparfaite + glitch + bordure lumineuse */
#core {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 300px;
  height: 300px;
  object-fit: cover;

  border-radius: 50% 45% 55% 50% / 50% 55% 45% 50%;
  overflow: hidden;

  transform: translate(-50%, -50%);
  animation: glitch 1.2s infinite, morph 3s infinite alternate, glow 2s infinite alternate;
  cursor: pointer;

  box-shadow: 0 0 20px 5px rgba(0, 200, 255, 0.7), 
              0 0 40px 10px rgba(0, 200, 255, 0.4);
}

/* Glitch léger */
@keyframes glitch {
  0%   { transform: translate(-50%, -50%) scale(1); }
  20%  { transform: translate(-49.5%, -50.2%) scale(1); }
  40%  { transform: translate(-50.3%, -49.8%) scale(1); }
  60%  { transform: translate(-50.1%, -50.1%) scale(1); }
  80%  { transform: translate(-49.8%, -50%) scale(1); }
  100% { transform: translate(-50%, -50%) scale(1); }
}

/* Morphing de la forme imparfaite */
@keyframes morph {
  0%   { border-radius: 50% 45% 55% 50% / 50% 55% 45% 50%; }
  25%  { border-radius: 48% 47% 53% 51% / 52% 53% 47% 50%; }
  50%  { border-radius: 52% 43% 57% 49% / 48% 50% 50% 52%; }
  75%  { border-radius: 49% 46% 54% 51% / 51% 54% 46% 49%; }
  100% { border-radius: 50% 45% 55% 50% / 50% 55% 45% 50%; }
}

/* Glow pulsé */
@keyframes glow {
  0% {
    box-shadow: 0 0 20px 5px rgba(217, 0, 255, 0.7),
                0 0 40px 10px rgba(0, 0, 0, 0.4);
  }
  50% {
    box-shadow: 0 0 30px 10px rgba(255, 255, 255, 0.9),
                0 0 50px 15px rgba(137, 136, 141, 0.5);
  }
  100% {
    box-shadow: 0 0 20px 5px rgba(0, 0, 0, 0.7),
                0 0 40px 10px rgba(179, 0, 255, 0.4);
  }
}

/* Hallucinations images 3-4-5 */
.hallucination {
  position: absolute;
  width: 220px;
  opacity: 0;
  animation: hallucinate 4s infinite, flicker 0.3s infinite alternate;
  filter: none;
}

.hallucination:nth-child(3) { top: 20%; left: 10%; animation-delay: 0s; }
.hallucination:nth-child(4) { top: 60%; left: 70%; animation-delay: 1s; }
.hallucination:nth-child(5) { top: 40%; left: 40%; animation-delay: 2s; }

@keyframes hallucinate {
  0%   { opacity: 0; transform: scale(0.95); }
  25%  { opacity: 0.85; }
  50%  { opacity: 0.4; transform: scale(1); }
  75%  { opacity: 0.9; }
  100% { opacity: 0; transform: scale(1.02); }
}

@keyframes flicker {
  from { filter: brightness(1); }
  to   { filter: brightness(1.1); }
}

/* -------- TRANSITION -------- */
.blur-out {
  animation: blurFade 1.5s forwards;
}

@keyframes blurFade {
  to {
    opacity: 0;
    filter: blur(20px);
  }
}

/* -------- SCENES 2 à 4 -------- */
#screen2, #screen3, #screen4 {
  width: 100%;
  height: 100%;
  position: absolute;
  display: none;
}

#final, #final2, #final3,
#overlay, #overlay2, #overlay3, #overlay4 {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 95%;   /* légèrement réduit */
  height: 95%;  /* légèrement réduit */
  transform: translate(-50%, -50%);
  object-fit: cover;
  pointer-events: none;
  z-index: 10;
}

/* -------- SCENE RETOUR -------- */
#screenReturn {
  width: 100%;
  height: 100%;
  position: absolute;
  display: none;
}

#returnImage {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 90%;   /* moins zoomé */
  height: 90%;
  transform: translate(-50%, -50%);
  object-fit: cover;
}

#iconReturn {
  position: absolute;
  bottom: 20px;
  right: 20px;
  width: 120px;   /* plus gros */
  height: auto;
  cursor: pointer;
  z-index: 10;

  /* Halo lumineux seulement */
  box-shadow: 0 0 20px 5px rgba(255, 254, 255, 0.794),
              0 0 40px 10px rgba(97, 16, 134, 0.4);

  border-radius: 50%; /* cercle simple, pas de morph */
  animation: glow 2s infinite alternate;
}

